ğŸš€ Store Front has been deployed!

Chart: {{ .Chart.Name }}-{{ .Chart.Version }}
Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}

ğŸ“Š Deployment Information:
- Strategy: {{ .Values.strategy.type | upper }}
- Image: {{ .Values.image.repository }}:{{ .Values.image.tag }}
- Replicas: {{ .Values.replicaCount }}

{{- if .Values.autoscaling.enabled }}
ğŸ”„ Auto-scaling is ENABLED:
- Min Replicas: {{ .Values.autoscaling.minReplicas }}
- Max Replicas: {{ .Values.autoscaling.maxReplicas }}
- CPU Target: {{ .Values.autoscaling.targetCPUUtilizationPercentage }}%
- Memory Target: {{ .Values.autoscaling.targetMemoryUtilizationPercentage }}%
{{- end }}

{{- if .Values.istio.enabled }}
ğŸŒ Istio Service Mesh: ENABLED
{{- if .Values.istio.gateway.enabled }}
- Gateway: {{ .Values.istio.gateway.name }}
{{- end }}
- VirtualService: {{ include "store-front.fullname" . }}
{{- end }}

{{- if .Values.datadog.enabled }}
ğŸ“ˆ Datadog Monitoring: ENABLED
- Service: {{ .Values.datadog.service }}
- Environment: {{ .Values.datadog.env }}
{{- end }}

ğŸ”µğŸŸ¢ Blue-Green Deployment:
- Active Service: {{ include "store-front.fullname" . }}
- Preview Service: {{ include "store-front.fullname" . }}-preview
- Auto-Promotion: {{ .Values.strategy.blueGreen.autoPromotionEnabled }}
{{- if .Values.strategy.blueGreen.autoPromotionSeconds }}
- Auto-Promotion Delay: {{ .Values.strategy.blueGreen.autoPromotionSeconds }}s
{{- end }}

ğŸ” Get the rollout status:
  kubectl get rollout {{ include "store-front.fullname" . }} -n {{ .Release.Namespace }}

ğŸ“‹ Watch rollout progress:
  kubectl argo rollouts get rollout {{ include "store-front.fullname" . }} -n {{ .Release.Namespace }} --watch

âœ… Promote blue-green (manual):
  kubectl argo rollouts promote {{ include "store-front.fullname" . }} -n {{ .Release.Namespace }}

âª Abort rollout:
  kubectl argo rollouts abort {{ include "store-front.fullname" . }} -n {{ .Release.Namespace }}

ğŸ“Š View in Argo Rollouts Dashboard:
  kubectl argo rollouts dashboard

{{- if .Values.istio.gateway.enabled }}
ğŸŒ Access the application:
  Get Istio Ingress Gateway external IP:
  kubectl get svc istio-ingressgateway -n istio-system
  
  Then visit: http://<EXTERNAL-IP>/
{{- else }}
ğŸ¯ Access service internally:
  kubectl port-forward svc/{{ include "store-front.fullname" . }} {{ .Values.service.port }}:{{ .Values.service.port }} -n {{ .Release.Namespace }}
  
  Then visit: http://localhost:{{ .Values.service.port }}/
{{- end }}